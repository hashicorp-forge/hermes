.doc-thumbnail {
  @apply relative w-12 shrink-0 flex;

  // Outer border / shadow
  &::after {
    content: "";
    @apply absolute shadow-surface-low flex rounded-sm z-50;

    //  Make it less annoying to debug elements below it:
    @apply pointer-events-none;

    // Element is 1px smaller than the container so the border can pick up
    // colors from the badges/icons/overlays rather than always rendering gray.
    @apply top-px right-px bottom-px left-px;
  }

  .doc-thumbnail-status-icon {
    @apply absolute opacity-75 w-9 h-9 -right-[7px] top-[5px] mix-blend-multiply;

    &.approved {
      @apply fill-color-palette-green-200 -rotate-6;
    }

    &.obsolete {
      @apply fill-color-palette-neutral-300 opacity-60;
    }
  }

  .doc-thumbnail-status-container {
    @apply overflow-hidden w-full h-full absolute rounded-r-sm;
  }

  .doc-thumbnail-folder {
    @apply overflow-visible w-auto absolute -right-1  text-color-border-primary;

    // Compensate for the 1px svg stroke
    @apply h-[calc(100%+1px)];

    // Make sure the top and bottom strokes aren't visible
    @apply -top-[0.5px];
  }

  .doc-thumbnail-image-and-badge {
    @apply relative flex overflow-hidden left-0 rounded-sm;
  }

  .doc-thumbnail-product-badge {
    @apply absolute grid place-items-center bottom-0 left-0 rounded-bl-sm rounded-tr-sm bg-gradient-to-br w-[26px] h-[24px] from-color-palette-neutral-500 to-color-palette-neutral-600 text-color-foreground-high-contrast;

    &.nomad {
      @apply from-color-nomad-gradient-primary-start to-color-nomad-gradient-primary-stop text-color-nomad-foreground;
    }

    &.packer {
      @apply from-color-packer-gradient-primary-start to-color-packer-gradient-primary-stop text-color-packer-foreground;
    }

    &.vault {
      @apply from-color-vault-gradient-primary-start to-color-vault-gradient-primary-stop text-color-vault-foreground;
    }

    &.vagrant {
      @apply from-color-vagrant-gradient-primary-start to-color-vagrant-gradient-primary-stop text-color-vagrant-foreground;
    }

    &.consul {
      @apply from-color-consul-gradient-primary-start to-color-consul-gradient-primary-stop text-color-foreground-high-contrast;
    }

    &.terraform {
      @apply from-color-terraform-gradient-primary-start to-color-terraform-gradient-primary-stop text-color-foreground-high-contrast;
    }

    &.boundary {
      @apply from-color-boundary-gradient-primary-start to-color-boundary-gradient-primary-stop text-color-foreground-high-contrast;
    }

    &.waypoint {
      @apply from-color-waypoint-gradient-primary-start to-color-waypoint-gradient-primary-stop text-color-waypoint-foreground;
    }

    // Note: The `.hcp` class uses the default badge styles
  }

  &.large {
    @apply shrink-0 w-[109px];

    &::after {
      @apply shadow-surface-mid rounded;
    }

    .doc-thumbnail-image-and-badge {
      &.obsolete {
        @apply left-[5px];

        &::after {
          content: "";
          @apply absolute rounded shadow-surface-base flex;

          // Element is 1px smaller than the container so the border can pick up
          // colors from the badges/icons/overlays rather than always rendering gray.
          @apply top-px right-px bottom-px left-px;
        }
      }
    }

    .doc-thumbnail-product-badge {
      @apply w-12 h-10 rounded-bl rounded-tr;
    }

    .doc-thumbnail-folder {
      @apply -right-1;
    }

    .doc-thumbnail-status-icon {
      @apply block w-[84px] h-[84px] -right-3.5 top-[8px];
    }
  }
}
