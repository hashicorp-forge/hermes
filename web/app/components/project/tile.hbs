<Hds::Card::Container
  data-test-project-tile
  @hasBorder={{true}}
  @levelHover="mid"
  class="project-tile interactive-card h-48 p-4"
  ...attributes
>
  <div class="relative h-full pb-16">
    <h3
      data-test-title
      class="title text-display-300 font-semibold text-color-foreground-strong"
    >
      {{@project.title}}
    </h3>
    {{#if @project.description}}
      <p
        data-test-description
        class="description mt-1 text-body-300 text-color-foreground-faint"
      >
        {{@project.description}}
      </p>
    {{/if}}

    <div class="absolute bottom-0 left-0 flex w-full items-center gap-2.5">
      {{#if @project.products}}
        <ul class="flex gap-px">
          {{#each @project.products as |product|}}
            <li class="flex items-center" data-test-product>
              <Product::Avatar @product={{product}} />
            </li>
          {{/each}}
        </ul>
      {{/if}}

      {{#if (or this.jiraIssue this.fetchJiraIssue.isRunning)}}
        <div
          class="flex items-center gap-1.5
            {{if this.jiraIssue 'fade-in-forwards'}}"
        >
          <div class="flex h-4 w-4 {{if this.fetchJiraIssue.isRunning ''}}">
            {{#if this.jiraIssue}}
              <img
                src={{this.jiraIssue.issueTypeImage}}
                height="16"
                width="16"
              />
            {{else}}
              <FlightIcon @name="loading" class="h-3 w-3" />
            {{/if}}
          </div>
          <span
            data-test-jira-key
            class="text-body-100 text-color-foreground-faint
              {{if this.jiraIssueIsClosed 'line-through'}}"
          >
            {{#if this.jiraIssue}}
              {{this.jiraIssue.key}}
            {{else}}
              {{! Block }}
            {{/if}}
          </span>
        </div>
      {{else if this.fetchJiraIssue.isRunning}}
        Loading...
      {{/if}}

    </div>
  </div>
</Hds::Card::Container>
