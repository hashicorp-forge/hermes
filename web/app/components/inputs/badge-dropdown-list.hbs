<X::DropdownList
  @items={{@items}}
  @listIsOrdered={{@listIsOrdered}}
  @onItemClick={{@onItemClick}}
  @selected={{@selected}}
  @placement={{@placement}}
  @renderOut={{@renderOut}}
  @secondaryFilterAttribute={{@secondaryFilterAttribute}}
  ...attributes
>
  <:anchor as |dd|>
    {{! TODO: this should be its own thing with its own loading state }}
    <dd.ToggleAction
      data-test-badge-dropdown-trigger
      class="relative {{if @isSaving 'opacity-50'}}"
    >
      <Hds::Badge
        data-test-badge-dropdown-list-icon
        data-test-icon={{if @selected (get-product-id @selected)}}
        @text={{or @selected "--"}}
        @icon={{@icon}}
        class="hds-badge-dropdown"
      />
      <FlightIcon
        data-test-badge-dropdown-list-chevron-icon
        data-test-chevron-position={{if dd.contentIsShown "up" "down"}}
        @name={{if dd.contentIsShown "chevron-up" "chevron-down"}}
        class="dropdown-caret"
      />
    </dd.ToggleAction>
  </:anchor>
  <:item as |dd|>
    {{#if (has-block "item")}}
      {{yield dd to="item"}}
    {{else}}
      <dd.Action data-test-badge-dropdown-list-default-action>
        <X::DropdownList::CheckableItem
          @isSelected={{dd.isSelected}}
          @value={{dd.value}}
        />
      </dd.Action>
    {{/if}}
  </:item>
</X::DropdownList>
