{{! This could be replaced with, e.g., <X::Hds::Badge::Dropdown/> }}
<FloatingUI @renderOut={{true}}>
  <:anchor as |f|>
    {{! how can i "tag" this as keyboard/mouse-navigable }}
    <Action
      {{did-insert f.registerAnchor}}
      {{did-insert (perform this.fetchProducts)}}
      {{on "click" f.toggleContent}}
    >
      <div class="relative flex">
        <Hds::Badge
          class="hds-badge-dropdown"
          @text={{@selected}}
          @icon={{get-product-id @selected}}
        />
        <FlightIcon
          class="dropdown-caret"
          @name={{if f.contentIsShown "chevron-up" "chevron-down"}}
        />
      </div>
    </Action>
  </:anchor>
  <:content as |f|>
    <X::Hds::Dropdown::List
      {{dismissible dismiss=f.hideContent related=f.anchor}}
      @items={{this.products}}
      @isOrdered={{true}}
      @resetFocusedItemIndex={{this.resetFocusedItemIndex}}
      @onChange={{@onChange}}
    />
  </:content>
</FloatingUI>
