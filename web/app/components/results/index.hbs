{{#unless (and this.scopeIsAll this.nbHits)}}
  {{! Hit count (not shown on the "All" screen unless saying "0 matches") }}
  <h1 data-test-results-header-text class="mb-7 text-display-300 font-semibold">
    {{this.nbHits}}
    {{if (eq this.nbHits 1) "match" "matches"}}
  </h1>
{{/unless}}

{{#if this.nbHits}}
  <div class="{{if this.scopeIsAll 'mt-[30px]'}} grid gap-9">
    {{! Product/Areas }}
    {{#if this.productFacetHits}}
      <div>
        <Results::SectionHeader
          @text="Product/Areas"
          @count={{this.productFacetHits.length}}
        />
        {{! All product areas }}
        <ol class="flex flex-wrap gap-5">
          {{#each this.productFacetHits as |product|}}
            <li class="group relative">
              <LinkTo
                @route="authenticated.product-areas.product-area"
                @model={{dasherize product.value}}
                {{! todo: hover, etc }}
                class="flex h-10 items-center gap-3 text-display-300 font-semibold text-color-foreground-strong"
              >
                <Product::Avatar @product={{product.value}} />
                <span>
                  {{product.value}}
                </span>
              </LinkTo>
            </li>
          {{/each}}
        </ol>
      </div>
    {{/if}}
    {{! Projects }}
    {{#if this.projectHits}}
      <div>
        {{#if this.scopeIsAll}}
          <Results::SectionHeader
            @text="Projects"
            @query={{hash q=@query scope=this.projectsScope}}
            @count={{@projectResults.nbHits}}
          />
        {{/if}}
        {{! First 5 projects }}
        <ol class="divided-list">
          {{#each this.projectHits as |p|}}
            <li class="group relative">
              <Project::Tile @project={{p}} />
            </li>
          {{/each}}
        </ol>
      </div>
    {{/if}}
    {{! Docs }}
    {{#if this.docHits}}
      <div>
        {{#if this.scopeIsAll}}
          <Results::SectionHeader
            @text="Docs"
            @query={{hash q=@query scope=this.docsScope}}
            @count={{@docResults.nbHits}}
          />
        {{/if}}
        {{! First page of results }}
        <ol class="divided-list">
          {{#each this.docHits as |doc|}}
            <li data-test-doc-search-result class="group relative">
              <Doc::TileMedium @doc={{doc}} @query={{@query}} />
            </li>
          {{/each}}
        </ol>
        {{! Link to next page }}
        {{#if this.nextPageLinkIsShown}}
          <div class="mx-auto mt-8 mb-8 max-w-[830px]">
            <Hds::Button
              data-test-link-to-all-docs
              @color="secondary"
              @text="Next page of docs"
              @icon="arrow-right"
              @iconPosition="trailing"
              @isFullWidth={{true}}
              @route="authenticated.results"
              @query={{hash scope=this.docsScope page=2}}
              class="py-3"
            />
          </div>
        {{/if}}
      </div>
    {{/if}}
  </div>
  {{! Pagination }}
  {{#unless this.scopeIsAll}}
    <Pagination @currentPage={{this.page}} @nbPages={{this.nbPages}} />
  {{/unless}}
{{/if}}
