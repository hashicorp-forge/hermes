{{#unless (and this.currentScopeIsAll this.nbHits)}}
  <h1 data-test-results-header-text class="mb-8 text-display-300 font-semibold">
    {{this.nbHits}}
    {{if (eq this.nbHits 1) "match" "matches"}}
  </h1>
{{/unless}}

{{#if this.nbHits}}
  {{#if this.currentScopeIsAll}}
    <div class="mt-[30px] grid gap-9">
      {{#if @productResults.facetHits}}
        <div>
          <div class="mb-3 flex items-center gap-2">
            <h4 class="hermes-h4">
              Product/Areas
            </h4>
          </div>
          <ol class="flex flex-wrap gap-5">
            {{#each @productResults.facetHits as |p|}}
              <li class="group relative">
                <LinkTo
                  @route="authenticated.product-areas.product-area"
                  @model={{dasherize p.value}}
                  class="flex h-10 items-center gap-3 text-display-300 font-semibold text-color-foreground-strong"
                >
                  <Product::Avatar @product={{p.value}} />
                  <span>
                    {{p.value}}
                  </span>
                </LinkTo>
              </li>
            {{/each}}
          </ol>
        </div>
      {{/if}}
      {{#if @projectResults.hits}}
        <div>
          <LinkTo
            @route="authenticated.results"
            @query={{hash q=@query scope=this.projectsScope}}
            class="mb-3 flex items-center gap-2"
          >
            <h4 class="hermes-h4">
              Projects
            </h4>
            <Hds::BadgeCount @text="{{@projectResults.nbHits}}" />
            <FlightIcon
              @name="chevron-right"
              class="-ml-0.5 text-color-foreground-disabled"
            />
          </LinkTo>
          <ol class="">
            {{#each (take 5 @projectResults.hits) as |p|}}
              {{! Products unavailable via Algolia }}
              {{! jiraIssueID is available }}
              {{! creator is available }}
              {{! description is available }}
              {{! description should be searchable? }}
              <li class="group relative">
                <Project::Tile @project={{p}} />
              </li>
            {{/each}}
          </ol>
        </div>
      {{/if}}
      {{#if @docResults.hits}}
        <div>
          <LinkTo
            @route="authenticated.results"
            @query={{hash q=@query scope=this.docsScope}}
            class="mb-3 flex items-center gap-2"
          >
            <h4 class="hermes-h4">
              Docs
            </h4>
            <Hds::BadgeCount @text="{{@docResults.nbHits}}" />
            <FlightIcon
              @name="chevron-right"
              class="-ml-0.5 text-color-foreground-disabled"
            />
          </LinkTo>
          <ol class="divided-list">
            {{#each @docResults.hits as |doc|}}
              <li data-test-doc-search-result class="group relative">
                <Doc::TileMedium @doc={{doc}} @query={{@query}} />
              </li>
            {{/each}}
          </ol>
          {{#if this.showMoreDocsButtonIsShown}}
            <div class="mx-auto mt-6 max-w-[830px]">
              <Hds::Button
                data-test-link-to-all-docs
                @color="secondary"
                @text="Next page of docs"
                @icon="arrow-right"
                @iconPosition="trailing"
                @isFullWidth={{true}}
                @route="authenticated.results"
                @query={{hash scope=this.docsScope page=2}}
                class="py-3"
              />
            </div>
          {{/if}}
        </div>
      {{/if}}
    </div>
  {{else if (eq this.currentScope this.projectsScope)}}
    <ol>
      {{#each @projectResults.hits as |p|}}
        <li class="group relative">
          <Project::Tile @project={{p}} />
        </li>
      {{/each}}
    </ol>
    <Pagination
      @currentPage={{add (or @projectResults.page 0) 1}}
      @nbPages={{@projectResults.nbPages}}
    />
  {{else}}
    <ol>
      {{#each @docResults.hits as |d|}}
        <li class="group relative">
          <Doc::TileMedium @doc={{d}} />
        </li>
      {{/each}}
    </ol>
    <Pagination
      @currentPage={{(add (or @docResults.page 0) 1)}}
      @nbPages={{@docResults.nbPages}}
    />
  {{/if}}
{{/if}}
