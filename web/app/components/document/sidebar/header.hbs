<div class="sidebar-header sidebar-toolbar {{if @userHasScrolled 'scrolled'}}">
  <div class="self-stretch flex">
    <LinkTo
      data-test-sidebar-dashboard-link
      class="sidebar-header-button sidebar-dashboard-link h-full"
      @route="authenticated.dashboard"
      {{(if @isCollapsed (modifier "tooltip" "Dashboard" placement="right"))}}
    >
      <FlightIcon
        @name={{if @isCollapsed "hashicorp" "arrow-left"}}
        @size={{if @isCollapsed "24"}}
      />
      {{#unless @isCollapsed}}
        <span class="ml-2">Dashboard</span>
      {{/unless}}
    </LinkTo>
    <div class="md:hidden">
      <Action class="sidebar-header-button" {{on "click" @toggleSidebarMenu}}>
        Info
      </Action>
    </div>
  </div>
  <div class="sidebar-header-icon-controls">
    {{#if this.shareButtonIsShown}}
      <CopyURLButton
        data-test-sidebar-copy-url-button
        data-test-copy-url-value={{this.url}}
        @url={{this.url}}
        @tooltipPlacement={{if @isCollapsed "right" "bottom"}}
        @tooltipIsForcedOpen={{this.tooltipIsForcedOpen}}
        @icon={{@shareButtonIcon}}
        @tooltipText={{@shareButtonTooltipText}}
        class="sidebar-header-button"
        id="sidebar-header-copy-url-button"
      />
    {{/if}}
    <ExternalLink
      data-test-sidebar-google-docs-link
      class="sidebar-header-button"
      href="https://docs.google.com/document/d/{{@document.objectID}}"
      {{tooltip "Open in Google" placement=(if @isCollapsed "right" "bottom")}}
    >
      <FlightIcon @name="external-link" />
    </ExternalLink>
    <Action
      data-test-sidebar-toggle-button
      data-test-is-collapsed={{@isCollapsed}}
      class="sidebar-header-button !hidden !md:block"
      {{! TODO: This should do different things depending on the screen size }}
      {{! On small screens it should open and reveal the menu }}
      {{! Menu status needs to reset when the breakpoint changes }}
      {{! At small sizes the tooltip isn't needed }}
      {{!  }}
      {{on "click" @toggleCollapsed}}
      {{tooltip
        (concat (if @isCollapsed "Expand" "Collapse") " sidebar")
        placement=(if @isCollapsed "right" "bottom")
      }}
    >
      {{! TODO: this should change icons at certain breakpoints }}
      <FlightIcon @name={{if @isCollapsed "sidebar-show" "sidebar-hide"}} />
    </Action>
  </div>
</div>
