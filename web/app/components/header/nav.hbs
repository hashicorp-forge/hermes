<nav class="header-nav x-container">
  <LinkTo @route="authenticated.dashboard" class="header-nav-logo">
    <HermesLogo />
  </LinkTo>

  <div class="primary-links">
    <LinkTo
      data-test-nav-link="all"
      @route="authenticated.documents"
      @current-when="authenticated.documents"
      @query={{this.defaultBrowseScreenQueryParams}}
    >
      All Docs
    </LinkTo>
    <LinkTo
      data-test-nav-link="my"
      @route="authenticated.my"
      @current-when="authenticated.my"
      @query={{this.defaultBrowseScreenQueryParams}}
    >
      My Docs
    </LinkTo>
    <LinkTo
      data-test-nav-link="drafts"
      @route="authenticated.drafts"
      @current-when="authenticated.drafts"
      @query={{this.defaultBrowseScreenQueryParams}}
    >
      My Drafts
    </LinkTo>
  </div>

  <Header::Search class="global-search" />

  <div class="user-buttons">
    <Hds::Button
      data-test-create-new-button
      @route="authenticated.new"
      @text="New"
      @icon="plus"
      class="pl-2.5 pr-4"
    />
    <div class="relative flex">
      {{! TYODO; make sure this still works }}
      {{#if this.userMenuHighlightIsShown}}
        <Header::UserMenuHighlight />
      {{/if}}

      <X::DropdownList
        @items={{this.dropdownListItems}}
        @placement="bottom-end"
        class="user-dropdown"
      >
        <:anchor as |dd|>
          <dd.ToggleAction @hasChevron={{true}} aria-label="User menu`">
            <Person::Avatar
              @email={{this.profile.email}}
              @imgURL={{this.profile.picture}}
              @size="large"
              data-test-user-menu-toggle
            />
          </dd.ToggleAction>
        </:anchor>
        <:header>
          <div class="mb-1 border-b border-b-color-border-primary py-3.5 px-5">
            <div class="font-semibold">
              {{this.profile.name}}
            </div>
            <div class="text-color-foreground-faint">
              {{this.profile.email}}
            </div>
          </div>
        </:header>
        {{! will the empty object appera as a list item }}
        <:item as |dd|>
          {{log "dd" dd}}
          {{#if dd.attrs.route}}
            <dd.LinkTo @route={{dd.attrs.route}}>
              {{dd.attrs.label}}
            </dd.LinkTo>
          {{else if dd.attrs.href}}
            <dd.ExternalLink href={{dd.attrs.href}} @iconIsShown={{true}}>
              {{dd.attrs.label}}
            </dd.ExternalLink>
            {{! DD external link }}
          {{else if dd.attrs.action}}
            <dd.Action {{on "click" dd.attrs.action}}>
              {{dd.attrs.label}}
            </dd.Action>
          {{/if}}
        </:item>

      </X::DropdownList>

      {{!-- <Hds::Dropdown as |dd|>
        <dd.Title
          data-test-user-menu-title
          {{did-insert this.onDropdownOpen}}
          {{will-destroy this.onDropdownClose}}
          @text={{this.profile.name}}
          class="text-body-200"
        />
        <dd.Description
          data-test-user-menu-email
          @text={{this.profile.email}}
          class="text-body-200"
        />
        <dd.Separator class="mt-2" />
        <dd.Interactive
          data-test-user-menu-item="email-notifications"
          @route="authenticated.settings"
          @text="Email notifications"
          class={{if this.emailNotificationsHighlightIsShown "highlighted-new"}}
        />
        <dd.Interactive
          data-test-user-menu-github
          @href={{this.gitHubRepoURL}}
          @isHrefExternal={{true}}
          @text="GitHub"
          @icon="external-link"
          class="user-menu-external-link"
        />
        {{#if this.supportDocsURL}}
          <dd.Interactive
            data-test-user-menu-support
            @href={{this.supportDocsURL}}
            @isHrefExternal={{true}}
            @text="Support"
            @icon="external-link"
            class="user-menu-external-link"
          />
        {{/if}}
        {{#if this.showSignOut}}
          <dd.Interactive
            data-test-user-menu-item="sign-out"
            {{on "click" this.invalidateSession}}
            @text="Sign out"
          />
        {{/if}}
      </Hds::Dropdown> --}}
    </div>
  </div>
</nav>
