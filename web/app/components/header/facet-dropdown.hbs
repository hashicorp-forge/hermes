{{!
  Marked up with guidance from:
  https://www.w3.org/WAI/ARIA/apg/patterns/combobox/examples/combobox-select-only/
  https://www.w3.org/WAI/ARIA/apg/patterns/combobox/examples/combobox-autocomplete-list/
  https://www.w3.org/WAI/ARIA/apg/patterns/menu-button/examples/menu-button-links/
  https://www.w3.org/WAI/ARIA/apg/patterns/menu-button/examples/menu-button-actions-active-descendant/
}}

<X::Hds::DropdownList
  @items={{@facets}}
  @listIsOrdered={{true}}
  {{! TODO: figure out "selected" }}
>
  <:anchor as |d|>
    <d.ToggleButton @text={{@label}} />
  </:anchor>
  <:item as |i|>
    <i.LinkTo
      @route={{this.currentRouteName}}
      @query={{or
        i.attrs.sortByQueryParams
        (get-facet-query-hash @label i.value i.attrs.selected)
      }}
    >
      <X::Hds::DropdownList::CheckableItem
        @value={{i.value}}
        @count={{i.attrs.count}}
        @selected={{i.attrs.selected}}
      />
    </i.LinkTo>
  </:item>
</X::Hds::DropdownList>
